"use strict";function fetchEntriesForContentType(e){return client.getEntries({content_type:e}).then(function(e){return e.items}).catch(function(e){console.error(e)})}function displayEntries(e){return fetchEntriesForContentType(e).then(function(e){e.forEach(function(e){data.posts.push(e.fields),data.loaded=!0})})}function checkData(){if(!data.loaded)return setTimeout("checkData();",1e3),!1;console.log(data);var e=$("#nav_template").html();$("#nav").html(Mustache.render(e,data));var a=$("#posts_template").html();$("#posts").html(Mustache.render(a,data))}function validate(e,a){return""===a?($("#"+e).addClass("error"),!1):!("email"===e&&!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a))||($("#"+e).addClass("error"),!1)}function onChange(e){var a=validate(e.id,e.value),t=$("#"+e.id);a?(t.removeClass("error"),t.addClass("valid")):t.addClass("error")}var data={loaded:!1,views:[{name:"About",link:"about.html"}],posts:[]},SPACE_ID="gjpem8dtmmqc",ACCESS_TOKEN="480f6c5e51771adf43bd6f6941398d1614295fdcee72a6a6ee0712aab4da33ee",client=contentful.createClient({space:SPACE_ID,accessToken:ACCESS_TOKEN});displayEntries("blogPost"),$(document).ready(function(){var e=$("input, textarea");e.change(function(){onChange(this)}),e.keyup(function(){onChange(this)}),$(".enquire").click(function(){var e=$(".enquire .fa");$(".overlay").toggleClass("show"),e.toggleClass("fa-times"),e.toggleClass("fa-envelope")}),$("#submit").click(function(){$(".enquiry-form");var a=$("#name"),t=$("#email"),s=$("#message");if(a.hasClass("valid")&&t.hasClass("valid")&&s.hasClass("valid")){var n="name="+a.val()+"&email="+t.val()+"&message="+s.val();$.ajax({type:"POST",url:"//formspree.io/julia@strataspatialdesign.com",data:n,dataType:"json",cache:!1,success:function(){e.prop("disabled",!0),$("#submit").prop("disabled",!0),$(".response").addClass("success").html("Thank you for your enquiry! I will be in touch soon")}})}else $(".response").addClass("error").html("Please correctly fill in all details");return!1})});